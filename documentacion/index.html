<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Documentaci√≥n - PJUD Web Scrapping</title>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #6366f1;
            --primary-dark: #4f46e5;
            --secondary: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
            --bg-dark: #0f172a;
            --bg-card: #1e293b;
            --bg-code: #0d1117;
            --text-primary: #f8fafc;
            --text-secondary: #94a3b8;
            --border: #334155;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--bg-dark);
            color: var(--text-primary);
            line-height: 1.6;
            min-height: 100vh;
        }

        /* Header */
        .header {
            background: linear-gradient(135deg, var(--primary) 0%, #8b5cf6 100%);
            padding: 40px 20px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
            opacity: 0.5;
        }

        .header-content {
            position: relative;
            z-index: 1;
            max-width: 800px;
            margin: 0 auto;
        }

        .header h1 {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 10px;
            text-shadow: 0 2px 10px rgba(0,0,0,0.2);
        }

        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .warning-badge {
            display: inline-block;
            background: var(--danger);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
            margin-top: 15px;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }

        /* Main Container */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 30px 20px;
        }

        /* Navigation */
        .nav-tabs {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-bottom: 30px;
            padding: 15px;
            background: var(--bg-card);
            border-radius: 12px;
            border: 1px solid var(--border);
        }

        .nav-tab {
            padding: 10px 20px;
            background: transparent;
            border: 2px solid var(--border);
            border-radius: 8px;
            color: var(--text-secondary);
            font-size: 0.9rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
        }

        .nav-tab:hover {
            border-color: var(--primary);
            color: var(--primary);
        }

        .nav-tab.active {
            background: var(--primary);
            border-color: var(--primary);
            color: white;
        }

        /* Sections */
        .section {
            display: none;
            animation: fadeIn 0.3s ease;
        }

        .section.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Cards */
        .card {
            background: var(--bg-card);
            border-radius: 12px;
            border: 1px solid var(--border);
            margin-bottom: 20px;
            overflow: hidden;
        }

        .card-header {
            padding: 15px 20px;
            background: rgba(99, 102, 241, 0.1);
            border-bottom: 1px solid var(--border);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .card-header h3 {
            font-size: 1.1rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .card-header .icon {
            width: 30px;
            height: 30px;
            background: var(--primary);
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
        }

        .card-body {
            padding: 20px;
        }

        /* Command Blocks */
        .command-block {
            background: var(--bg-code);
            border-radius: 8px;
            margin-bottom: 15px;
            border: 1px solid var(--border);
            overflow: hidden;
        }

        .command-header {
            padding: 10px 15px;
            background: rgba(255,255,255,0.05);
            border-bottom: 1px solid var(--border);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .command-title {
            font-size: 0.85rem;
            color: var(--text-secondary);
            font-weight: 500;
        }

        .command-badge {
            font-size: 0.7rem;
            padding: 3px 8px;
            border-radius: 4px;
            font-weight: 600;
            text-transform: uppercase;
        }

        .command-badge.npm { background: #cb3837; }
        .command-badge.node { background: #339933; }
        .command-badge.shell { background: #4eaa25; }
        .command-badge.mysql { background: #4479a1; }

        .command-code {
            padding: 15px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.9rem;
            color: #e2e8f0;
            overflow-x: auto;
            position: relative;
        }

        .command-code code {
            display: block;
            white-space: pre-wrap;
            word-break: break-all;
        }

        .copy-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            background: var(--primary);
            color: white;
            border: none;
            padding: 6px 12px;
            border-radius: 6px;
            font-size: 0.75rem;
            cursor: pointer;
            opacity: 0;
            transition: all 0.2s;
        }

        .command-code:hover .copy-btn {
            opacity: 1;
        }

        .copy-btn:hover {
            background: var(--primary-dark);
        }

        .copy-btn.copied {
            background: var(--secondary);
        }

        /* Description */
        .description {
            color: var(--text-secondary);
            font-size: 0.9rem;
            margin-top: 10px;
            padding: 10px 15px;
            background: rgba(99, 102, 241, 0.05);
            border-radius: 6px;
            border-left: 3px solid var(--primary);
        }

        /* Table */
        .info-table {
            width: 100%;
            border-collapse: collapse;
        }

        .info-table th,
        .info-table td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid var(--border);
        }

        .info-table th {
            background: rgba(99, 102, 241, 0.1);
            font-weight: 600;
            font-size: 0.85rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            color: var(--text-secondary);
        }

        .info-table td {
            font-size: 0.9rem;
        }

        .info-table code {
            background: var(--bg-code);
            padding: 3px 8px;
            border-radius: 4px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.8rem;
        }

        /* Status Badges */
        .status {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 600;
        }

        .status.success { background: rgba(16, 185, 129, 0.2); color: #10b981; }
        .status.warning { background: rgba(245, 158, 11, 0.2); color: #f59e0b; }
        .status.info { background: rgba(99, 102, 241, 0.2); color: #6366f1; }

        /* Quick Actions */
        .quick-actions {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }

        .quick-action {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 10px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .quick-action:hover {
            border-color: var(--primary);
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(99, 102, 241, 0.2);
        }

        .quick-action h4 {
            font-size: 1rem;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .quick-action p {
            font-size: 0.85rem;
            color: var(--text-secondary);
            margin-bottom: 12px;
        }

        .quick-action code {
            display: block;
            background: var(--bg-code);
            padding: 10px 15px;
            border-radius: 6px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.8rem;
            color: var(--secondary);
        }

        /* Footer */
        .footer {
            text-align: center;
            padding: 30px;
            color: var(--text-secondary);
            font-size: 0.85rem;
            border-top: 1px solid var(--border);
            margin-top: 40px;
        }

        /* Search */
        .search-box {
            margin-bottom: 20px;
        }

        .search-input {
            width: 100%;
            padding: 12px 20px;
            background: var(--bg-card);
            border: 2px solid var(--border);
            border-radius: 10px;
            color: var(--text-primary);
            font-size: 1rem;
            transition: all 0.2s;
        }

        .search-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.2);
        }

        .search-input::placeholder {
            color: var(--text-secondary);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .header h1 { font-size: 1.8rem; }
            .nav-tabs { flex-direction: column; }
            .nav-tab { width: 100%; text-align: center; }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <h1>üìö PJUD Web Scrapping</h1>
            <p>Documentaci√≥n de Comandos y Gu√≠a de Uso</p>
            <div style="display: flex; gap: 10px; justify-content: center; flex-wrap: wrap; margin-top: 15px;">
                <div class="warning-badge">‚ö†Ô∏è CARPETA PROTEGIDA - NO BORRAR</div>
                <div class="warning-badge" style="background: var(--secondary); animation: none;">ü¶ä Firefox + üóÑÔ∏è MariaDB</div>
            </div>
        </div>
    </header>

    <!-- Main Container -->
    <main class="container">
        <!-- Search -->
        <div class="search-box">
            <input type="text" class="search-input" id="searchInput" placeholder="üîç Buscar comando...">
        </div>

        <!-- Navigation -->
        <nav class="nav-tabs">
            <button class="nav-tab active" data-section="quick">‚ö° Acceso R√°pido</button>
            <button class="nav-tab" data-section="scraping">üï∑Ô∏è Scraping</button>
            <button class="nav-tab" data-section="frontend">üñ•Ô∏è Frontend</button>
            <button class="nav-tab" data-section="dashboard">üìä Dashboard</button>
            <button class="nav-tab" data-section="api">üîå API REST</button>
            <button class="nav-tab" data-section="servidor">üåê Servidor</button>
            <button class="nav-tab" data-section="database">üóÑÔ∏è Base de Datos</button>
            <button class="nav-tab" data-section="git">üîÄ Git & Versiones</button>
            <button class="nav-tab" data-section="testing">üß™ Testing</button>
            <button class="nav-tab" data-section="tools">üîß Herramientas</button>
            <button class="nav-tab" data-section="urls">üîó URLs</button>
        </nav>

        <!-- Section: Quick Access -->
        <section class="section active" id="quick">
            <!-- Estado Actual del Proyecto -->
            <div class="card" style="border: 2px solid var(--secondary); margin-bottom: 30px;">
                <div class="card-header" style="background: rgba(16, 185, 129, 0.2);">
                    <h3><span class="icon" style="background: var(--secondary);">üìä</span> Estado Actual del Proyecto</h3>
                    <span class="status success">‚úÖ Funcionando</span>
                </div>
                <div class="card-body">
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-bottom: 20px;">
                        <div style="background: rgba(99, 102, 241, 0.1); padding: 15px; border-radius: 8px; border-left: 4px solid var(--primary);">
                            <h4 style="color: var(--primary); margin-bottom: 10px;">ü¶ä Navegador</h4>
                            <p style="margin: 0; font-size: 0.9rem;">
                                <strong>Firefox</strong> (por defecto)<br>
                                <span style="color: var(--text-secondary);">Chromium ten√≠a problemas con reCAPTCHA v3</span>
                            </p>
                        </div>
                        <div style="background: rgba(16, 185, 129, 0.1); padding: 15px; border-radius: 8px; border-left: 4px solid var(--secondary);">
                            <h4 style="color: var(--secondary); margin-bottom: 10px;">üìÑ PDFs</h4>
                            <p style="margin: 0; font-size: 0.9rem;">
                                <strong>Base64 autom√°tico</strong><br>
                                <span style="color: var(--text-secondary);">Se descargan y convierten autom√°ticamente</span>
                            </p>
                        </div>
                        <div style="background: rgba(245, 158, 11, 0.1); padding: 15px; border-radius: 8px; border-left: 4px solid var(--warning);">
                            <h4 style="color: var(--warning); margin-bottom: 10px;">‚è±Ô∏è Tiempo Modal</h4>
                            <p style="margin: 0; font-size: 0.9rem;">
                                <strong>30 segundos</strong> de espera<br>
                                <span style="color: var(--text-secondary);">PJUD tarda 10-15s en cargar detalle</span>
                            </p>
                        </div>
                        <div style="background: rgba(99, 102, 241, 0.1); padding: 15px; border-radius: 8px; border-left: 4px solid var(--primary);">
                            <h4 style="color: var(--primary); margin-bottom: 10px;">üóÑÔ∏è Base de Datos</h4>
                            <p style="margin: 0; font-size: 0.9rem;">
                                <strong>MariaDB/XAMPP</strong><br>
                                <span style="color: var(--text-secondary);">Socket: /Applications/XAMPP/.../mysql.sock</span>
                            </p>
                        </div>
                        <div style="background: rgba(139, 92, 246, 0.1); padding: 15px; border-radius: 8px; border-left: 4px solid #8b5cf6;">
                            <h4 style="color: #8b5cf6; margin-bottom: 10px;">üìö Cuadernos</h4>
                            <p style="margin: 0; font-size: 0.9rem;">
                                <strong>Separaci√≥n autom√°tica</strong><br>
                                <span style="color: var(--text-secondary);">Detecta y agrupa movimientos por cuaderno</span>
                            </p>
                        </div>
                    </div>

                    <h4 style="color: var(--text-primary); margin: 20px 0 15px;">üîÑ √öltimos Cambios (23 Enero 2026)</h4>
                    <table class="info-table">
                        <thead>
                            <tr>
                                <th>Archivo</th>
                                <th>Cambio</th>
                                <th>Motivo</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>src/browser.js</code></td>
                                <td>Firefox como navegador por defecto</td>
                                <td>Chromium falla con reCAPTCHA v3 en headless</td>
                            </tr>
                            <tr>
                                <td><code>src/form.js</code></td>
                                <td>Espera de modal aumentada a 30 segundos</td>
                                <td>PJUD tarda 10-15s en cargar el detalle de causa</td>
                            </tr>
                            <tr>
                                <td><code>src/config/causas_test.json</code></td>
                                <td>Nuevas causas de prueba actualizadas</td>
                                <td>Causas confirmadas con movimientos y PDFs</td>
                            </tr>
                            <tr>
                                <td><code>src/database/db-mariadb.js</code></td>
                                <td>Truncamiento de campos largos</td>
                                <td>Evitar error "Data too long for column"</td>
                            </tr>
                            <tr>
                                <td><code>src/database/db-mariadb.js</code></td>
                                <td>Campos de cuaderno agregados (id_cuaderno, cuaderno_nombre, id_pagina)</td>
                                <td>Soporte para separaci√≥n de movimientos por cuaderno</td>
                            </tr>
                            <tr>
                                <td><code>src/api/public/demo.html</code></td>
                                <td>Selector de cuadernos en modal de detalle</td>
                                <td>Filtrar movimientos por cuaderno igual que en PJUD</td>
                            </tr>
                            <tr>
                                <td><code>database/schema_mariadb_5.5.sql</code></td>
                                <td>Tabla movimientos actualizada con campos de cuaderno</td>
                                <td>Almacenar informaci√≥n de cuadernos en BD</td>
                            </tr>
                            <tr>
                                <td><code>src/api/public/demo.html</code></td>
                                <td>Modal con pesta√±as (eBook, Demanda, Historia, Estados)</td>
                                <td>Estructura igual al PJUD con secciones separadas</td>
                            </tr>
                            <tr>
                                <td><code>src/api/public/demo.html</code></td>
                                <td>Paleta de colores institucionales (azul marino, rojo, crema)</td>
                                <td>Estilo profesional y formal</td>
                            </tr>
                            <tr>
                                <td><code>src/api/public/demo.html</code></td>
                                <td>"Actuaci√≥n Receptor" se muestra en rojo en tr√°mite</td>
                                <td>Destacar movimientos importantes para abogados</td>
                            </tr>
                            <tr>
                                <td><code>src/api/public/mvp-dashboard.html</code></td>
                                <td>Dashboard funcional con estad√≠sticas para abogados</td>
                                <td>M√©tricas relevantes: causas, movimientos, PDFs pendientes</td>
                            </tr>
                            <tr>
                                <td><code>src/api/dashboard-api.js</code></td>
                                <td>API de dashboard con endpoints de estad√≠sticas</td>
                                <td>Proveer datos para el dashboard</td>
                            </tr>
                            <tr>
                                <td><code>src/database/db-mariadb.js</code></td>
                                <td>Funciones: getEstadisticasAbogados, detectarMovimientosNuevos</td>
                                <td>Detecci√≥n de movimientos nuevos y estad√≠sticas</td>
                            </tr>
                            <tr>
                                <td><code>src/utils/email.js</code></td>
                                <td>M√≥dulo de notificaciones por email</td>
                                <td>Enviar emails cuando hay movimientos nuevos</td>
                            </tr>
                            <tr>
                                <td><code>package.json</code></td>
                                <td>Agregado nodemailer para env√≠o de emails</td>
                                <td>Soporte para notificaciones autom√°ticas</td>
                            </tr>
                            <tr>
                                <td><code>docs/CONFIGURACION_EMAIL.md</code></td>
                                <td>Documentaci√≥n de configuraci√≥n SMTP</td>
                                <td>Gu√≠a para configurar env√≠o de emails</td>
                            </tr>
                            <tr>
                                <td><code>docs/ERRORES_CORREGIDOS.md</code></td>
                                <td>Documentaci√≥n de errores corregidos</td>
                                <td>Lista de errores identificados y solucionados</td>
                            </tr>
                            <tr>
                                <td><code>src/api/causas-api.js</code></td>
                                <td>Nuevo router REST para endpoints de causas</td>
                                <td>API REST para consultar causas desde BD</td>
                            </tr>
                            <tr>
                                <td><code>src/api/movimientos-api.js</code></td>
                                <td>Nuevo router REST para endpoints de movimientos</td>
                                <td>API REST para consultar movimientos desde BD</td>
                            </tr>
                            <tr>
                                <td><code>src/api/pdfs-api.js</code></td>
                                <td>Nuevo router REST para endpoints de PDFs</td>
                                <td>API REST para consultar PDFs desde BD</td>
                            </tr>
                            <tr>
                                <td><code>src/api/server.js</code></td>
                                <td>Registro de nuevos routers REST (causas, movimientos, pdfs)</td>
                                <td>Integraci√≥n de endpoints REST en servidor principal</td>
                            </tr>
                            <tr>
                                <td><code>docs/API_REST.md</code></td>
                                <td>Documentaci√≥n completa de API REST</td>
                                <td>Gu√≠a con todos los endpoints, ejemplos curl y Postman</td>
                            </tr>
                            <tr>
                                <td><code>docs/postman_collection.json</code></td>
                                <td>Colecci√≥n Postman lista para importar</td>
                                <td>Facilita pruebas de endpoints desde Postman</td>
                            </tr>
                        </tbody>
                    </table>

                    <h4 style="color: var(--text-primary); margin: 20px 0 15px;">‚úÖ √öltima Ejecuci√≥n Exitosa</h4>
                    <div style="background: var(--bg-code); padding: 15px; border-radius: 8px; font-family: 'JetBrains Mono', monospace; font-size: 0.85rem;">
                        <div style="color: var(--secondary);">üìä Causa: C-571-2018</div>
                        <div style="margin-top: 8px;">
                            <span style="color: #10b981;">‚úÖ 29 movimientos extra√≠dos</span><br>
                            <span style="color: #10b981;">‚úÖ 38 PDFs descargados</span><br>
                            <span style="color: #10b981;">‚úÖ ~3MB convertidos a base64</span><br>
                            <span style="color: #10b981;">‚úÖ Guardado en BD exitoso</span>
                        </div>
                    </div>
                </div>
            </div>

            <h2 style="margin-bottom: 20px; color: var(--text-secondary);">Comandos m√°s usados</h2>
            
            <div class="quick-actions">
                <div class="quick-action" onclick="copyCommand('npm run api:start')">
                    <h4>üöÄ Iniciar Servidor</h4>
                    <p>Levanta el servidor API en el puerto 3000</p>
                    <code>npm run api:start</code>
                </div>
                
                <div class="quick-action" onclick="copyCommand('npm test')">
                    <h4>üß™ Ejecutar Tests</h4>
                    <p>Ejecuta las 54 pruebas unitarias</p>
                    <code>npm test</code>
                </div>
                
                <div class="quick-action" onclick="copyCommand('npm run test:5causas')">
                    <h4>üï∑Ô∏è Scraping 5 Causas</h4>
                    <p>Ejecuta scraping de las 5 causas de prueba</p>
                    <code>npm run test:5causas</code>
                </div>
                
                <div class="quick-action" onclick="copyCommand('npm install')">
                    <h4>üì¶ Instalar Dependencias</h4>
                    <p>Instala todas las dependencias del proyecto</p>
                    <code>npm install</code>
                </div>

                <div class="quick-action" onclick="copyCommand('npx playwright install firefox')">
                    <h4>ü¶ä Instalar Firefox (Playwright)</h4>
                    <p>Navegador requerido para scraping (mejor con reCAPTCHA)</p>
                    <code>npx playwright install firefox</code>
                </div>

                <div class="quick-action" onclick="copyCommand('npm run scrape:masivo')">
                    <h4>üìä Scraping Masivo</h4>
                    <p>Ejecuta scraping masivo desde CSV</p>
                    <code>npm run scrape:masivo</code>
                </div>
            </div>
        </section>

        <!-- Section: Frontend -->
        <section class="section" id="frontend">
            <div class="card">
                <div class="card-header">
                    <h3><span class="icon">üñ•Ô∏è</span> Frontend - P√°ginas Disponibles</h3>
                </div>
                <div class="card-body">
                    <p style="margin-bottom: 20px; color: var(--text-secondary);">
                        El sistema incluye varias p√°ginas web para visualizar y gestionar las causas. 
                        <strong>Primero debes iniciar el servidor con <code>npm run api:start</code></strong>
                    </p>
                    
                    <table class="info-table">
                        <thead>
                            <tr>
                                <th>URL</th>
                                <th>Nombre</th>
                                <th>Descripci√≥n</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><a href="http://localhost:3000/demo" target="_blank" style="color: var(--primary);">localhost:3000/demo</a></td>
                                <td><strong>Consulta de Causas</strong></td>
                                <td>Interfaz estilo PJUD para buscar y ver causas. Incluye formulario de b√∫squeda y tabla de resultados.</td>
                            </tr>
                            <tr>
                                <td><a href="http://localhost:3000/movimientos" target="_blank" style="color: var(--primary);">localhost:3000/movimientos</a></td>
                                <td><strong>Movimientos Procesales</strong></td>
                                <td>Tabla completa de movimientos con filtros, paginaci√≥n y visualizaci√≥n de PDFs.</td>
                            </tr>
                            <tr>
                                <td><a href="http://localhost:3000/mvp" target="_blank" style="color: var(--primary);">localhost:3000/mvp</a></td>
                                <td><strong>Dashboard MVP</strong></td>
                                <td>Panel de control funcional con estad√≠sticas para abogados: causas en tr√°mite, movimientos nuevos, PDFs pendientes, y sistema de notificaciones por email.</td>
                            </tr>
                            <tr>
                                <td><a href="http://localhost:3000/" target="_blank" style="color: var(--primary);">localhost:3000/</a></td>
                                <td><strong>P√°gina Principal</strong></td>
                                <td>P√°gina de inicio con informaci√≥n general del sistema.</td>
                            </tr>
                            <tr>
                                <td><a href="http://localhost:3000/exportar" target="_blank" style="color: var(--primary);">localhost:3000/exportar</a></td>
                                <td><strong>Exportaci√≥n</strong></td>
                                <td>Herramienta para exportar datos a JSON o CSV.</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    <h3><span class="icon">üé®</span> Consulta de Causas (/demo)</h3>
                </div>
                <div class="card-body">
                    <p style="margin-bottom: 15px; color: var(--text-secondary);">
                        Interfaz principal que replica el estilo del PJUD con colorimetr√≠a personalizada.
                    </p>
                    
                    <h4 style="margin: 20px 0 10px; color: var(--primary);">Caracter√≠sticas:</h4>
                    <ul style="list-style: none; padding: 0;">
                        <li style="padding: 8px 0; border-bottom: 1px solid var(--border);">
                            ‚úÖ <strong>Formulario de b√∫squeda</strong> - Competencia, Corte, Tribunal, Tipo Causa, Rol, A√±o
                        </li>
                        <li style="padding: 8px 0; border-bottom: 1px solid var(--border);">
                            ‚úÖ <strong>Tabla de resultados</strong> - Muestra causas encontradas con acciones
                        </li>
                        <li style="padding: 8px 0; border-bottom: 1px solid var(--border);">
                            ‚úÖ <strong>Causas guardadas</strong> - Lista de causas almacenadas en el sistema
                        </li>
                        <li style="padding: 8px 0; border-bottom: 1px solid var(--border);">
                            ‚úÖ <strong>Modal de detalle</strong> - Informaci√≥n completa de la causa y movimientos
                        </li>
                        <li style="padding: 8px 0; border-bottom: 1px solid var(--border);">
                            ‚úÖ <strong>Selector de cuadernos</strong> - Filtra movimientos por cuaderno (igual que en PJUD)
                        </li>
                    </ul>

                    <div style="background: rgba(139, 92, 246, 0.1); border-left: 4px solid #8b5cf6; padding: 15px; border-radius: 6px; margin: 20px 0;">
                        <h4 style="color: #8b5cf6; margin-bottom: 10px;">üìö Funcionalidad de Cuadernos</h4>
                        <p style="margin: 0 0 10px; font-size: 0.9rem;">
                            El sistema detecta autom√°ticamente si una causa tiene m√∫ltiples cuadernos (como en el PJUD) y permite filtrar los movimientos por cuaderno.
                        </p>
                        <ul style="list-style: disc; padding-left: 20px; margin: 0; line-height: 1.8; font-size: 0.9rem;">
                            <li><strong>Detecci√≥n autom√°tica:</strong> El scraper identifica cuadernos usando el dropdown/select del modal PJUD</li>
                            <li><strong>Almacenamiento:</strong> Cada movimiento guarda <code>id_cuaderno</code>, <code>cuaderno_nombre</code> e <code>id_pagina</code></li>
                            <li><strong>Selector en frontend:</strong> Aparece autom√°ticamente cuando hay m√°s de 1 cuaderno</li>
                            <li><strong>Filtrado:</strong> Permite ver movimientos de un cuaderno espec√≠fico o todos</li>
                            <li><strong>Indicador:</strong> Muestra la cantidad de cuadernos en el modal de detalle</li>
                        </ul>
                    </div>

                    <h4 style="margin: 20px 0 10px; color: var(--primary);">Iconos de Acci√≥n:</h4>
                    <table class="info-table">
                        <thead>
                            <tr>
                                <th style="width: 80px;">Icono</th>
                                <th style="width: 100px;">Color</th>
                                <th>Funci√≥n</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>üëÅÔ∏è <code>fa-eye</code></td>
                                <td><span style="background: #3b82f6; color: white; padding: 2px 8px; border-radius: 4px;">Azul</span></td>
                                <td>Ver detalle completo de la causa</td>
                            </tr>
                            <tr>
                                <td>üìÑ <code>fa-file-pdf</code></td>
                                <td><span style="background: #0ea5e9; color: white; padding: 2px 8px; border-radius: 4px;">Cyan</span></td>
                                <td>Descargar PDF principal del movimiento</td>
                            </tr>
                            <tr>
                                <td>üìÑ <code>fa-file-pdf</code></td>
                                <td><span style="background: #ef4444; color: white; padding: 2px 8px; border-radius: 4px;">Rojo</span></td>
                                <td>Descargar PDF anexo del movimiento</td>
                            </tr>
                            <tr>
                                <td>üìö <code>fa-book</code></td>
                                <td><span style="background: #10b981; color: white; padding: 2px 8px; border-radius: 4px;">Verde</span></td>
                                <td>Descargar eBook / Carpeta digital completa</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    <h3><span class="icon">üìã</span> Movimientos Procesales (/movimientos)</h3>
                </div>
                <div class="card-body">
                    <p style="margin-bottom: 15px; color: var(--text-secondary);">
                        Tabla avanzada para visualizar el historial completo de movimientos de una causa.
                    </p>
                    
                    <h4 style="margin: 20px 0 10px; color: var(--primary);">Caracter√≠sticas:</h4>
                    <ul style="list-style: none; padding: 0;">
                        <li style="padding: 8px 0; border-bottom: 1px solid var(--border);">
                            ‚úÖ <strong>Paginaci√≥n</strong> - 25, 50, 100, 200 o todos los registros por p√°gina
                        </li>
                        <li style="padding: 8px 0; border-bottom: 1px solid var(--border);">
                            ‚úÖ <strong>Filtros</strong> - Por fecha, descripci√≥n y etapa procesal
                        </li>
                        <li style="padding: 8px 0; border-bottom: 1px solid var(--border);">
                            ‚úÖ <strong>Columnas</strong> - Folio, Documentos, Fecha, Etapa, Tr√°mite, Descripci√≥n, Foja
                        </li>
                        <li style="padding: 8px 0; border-bottom: 1px solid var(--border);">
                            ‚úÖ <strong>Visor de PDF</strong> - Modal integrado para ver documentos sin salir de la p√°gina
                        </li>
                        <li style="padding: 8px 0; border-bottom: 1px solid var(--border);">
                            ‚úÖ <strong>Estad√≠sticas</strong> - Total de movimientos, documentos y PDFs disponibles
                        </li>
                    </ul>

                    <h4 style="margin: 20px 0 10px; color: var(--primary);">Columnas de la Tabla:</h4>
                    <table class="info-table">
                        <thead>
                            <tr>
                                <th>Columna</th>
                                <th>Descripci√≥n</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Folio</strong></td>
                                <td>N√∫mero correlativo del movimiento (badge azul)</td>
                            </tr>
                            <tr>
                                <td><strong>Documentos</strong></td>
                                <td>Botones para descargar PDF principal (azul) y anexo (rojo)</td>
                            </tr>
                            <tr>
                                <td><strong>Fecha</strong></td>
                                <td>Fecha del movimiento en formato DD/MM/YYYY</td>
                            </tr>
                            <tr>
                                <td><strong>Etapa</strong></td>
                                <td>Etapa procesal (Ingreso, Notificaci√≥n, Sentencia, etc.)</td>
                            </tr>
                            <tr>
                                <td><strong>Tr√°mite</strong></td>
                                <td>Tipo de tr√°mite realizado. <strong style="color: #c62828;">"Actuaci√≥n Receptor" se muestra en rojo</strong> para destacar su importancia</td>
                            </tr>
                            <tr>
                                <td><strong>Descripci√≥n</strong></td>
                                <td>Detalle completo del movimiento</td>
                            </tr>
                            <tr>
                                <td><strong>Foja</strong></td>
                                <td>N√∫mero de foja en el expediente f√≠sico</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    <h3><span class="icon">üöÄ</span> C√≥mo Iniciar el Frontend</h3>
                </div>
                <div class="card-body">
                    <div class="command-block">
                        <div class="command-header">
                            <span class="command-title">Paso 1: Iniciar el servidor</span>
                            <span class="command-badge npm">npm</span>
                        </div>
                        <div class="command-code">
                            <code>npm run api:start</code>
                            <button class="copy-btn" onclick="copyCommand('npm run api:start')">Copiar</button>
                        </div>
                        <div class="description">
                            Inicia el servidor Express en el puerto 3000. Esto habilita todas las p√°ginas del frontend.
                        </div>
                    </div>

                    <div class="command-block">
                        <div class="command-header">
                            <span class="command-title">Paso 2: Abrir en el navegador</span>
                            <span class="command-badge shell">shell</span>
                        </div>
                        <div class="command-code">
                            <code># Abrir consulta de causas
open http://localhost:3000/demo

# Abrir movimientos procesales
open http://localhost:3000/movimientos

# Abrir dashboard MVP
open http://localhost:3000/mvp</code>
                            <button class="copy-btn" onclick="copyCommand('open http://localhost:3000/demo')">Copiar</button>
                        </div>
                        <div class="description">
                            Abre la p√°gina en tu navegador por defecto. En Windows usa <code>start</code> en lugar de <code>open</code>.
                        </div>
                    </div>

                    <div class="command-block">
                        <div class="command-header">
                            <span class="command-title">Si el puerto est√° ocupado</span>
                            <span class="command-badge shell">shell</span>
                        </div>
                        <div class="command-code">
                            <code># Matar proceso en puerto 3000
lsof -ti:3000 | xargs kill -9

# Luego iniciar el servidor
npm run api:start</code>
                            <button class="copy-btn" onclick="copyCommand('lsof -ti:3000 | xargs kill -9 && npm run api:start')">Copiar</button>
                        </div>
                        <div class="description">
                            Soluciona el error <code>EADDRINUSE: address already in use</code>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    <h3><span class="icon">üìÅ</span> Archivos del Frontend</h3>
                </div>
                <div class="card-body">
                    <table class="info-table">
                        <thead>
                            <tr>
                                <th>Archivo</th>
                                <th>Ruta</th>
                                <th>Descripci√≥n</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>demo.html</code></td>
                                <td>src/api/public/</td>
                                <td>Consulta de causas estilo PJUD</td>
                            </tr>
                            <tr>
                                <td><code>demo-movimientos-completo.html</code></td>
                                <td>src/api/public/</td>
                                <td>Tabla de movimientos procesales</td>
                            </tr>
                            <tr>
                                <td><code>mvp-dashboard.html</code></td>
                                <td>src/api/public/</td>
                                <td>Dashboard con estad√≠sticas</td>
                            </tr>
                            <tr>
                                <td><code>modulos-erp.html</code></td>
                                <td>src/api/public/</td>
                                <td>M√≥dulos ERP disponibles</td>
                            </tr>
                            <tr>
                                <td><code>style.css</code></td>
                                <td>src/api/public/css/</td>
                                <td>Estilos globales</td>
                            </tr>
                            <tr>
                                <td><code>app.js</code></td>
                                <td>src/api/public/js/</td>
                                <td>JavaScript principal</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    <h3><span class="icon">üé®</span> Colorimetr√≠a del Sistema</h3>
                </div>
                <div class="card-body">
                    <p style="margin-bottom: 15px; color: var(--text-secondary);">
                        Colores principales usados en el frontend (variables CSS):
                    </p>
                    
                    <table class="info-table">
                        <thead>
                            <tr>
                                <th>Variable</th>
                                <th>Color</th>
                                <th>Uso</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>--primary</code></td>
                                <td><span style="background: #4f46e5; color: white; padding: 2px 12px; border-radius: 4px;">#4f46e5</span></td>
                                <td>Elementos principales, headers, botones primarios</td>
                            </tr>
                            <tr>
                                <td><code>--secondary</code></td>
                                <td><span style="background: #0ea5e9; color: white; padding: 2px 12px; border-radius: 4px;">#0ea5e9</span></td>
                                <td>Elementos secundarios, enlaces, PDF principal</td>
                            </tr>
                            <tr>
                                <td><code>--success</code></td>
                                <td><span style="background: #10b981; color: white; padding: 2px 12px; border-radius: 4px;">#10b981</span></td>
                                <td>Estados exitosos, eBook, confirmaciones</td>
                            </tr>
                            <tr>
                                <td><code>--warning</code></td>
                                <td><span style="background: #f59e0b; color: white; padding: 2px 12px; border-radius: 4px;">#f59e0b</span></td>
                                <td>Advertencias, estados pendientes</td>
                            </tr>
                            <tr>
                                <td><code>--danger</code></td>
                                <td><span style="background: #ef4444; color: white; padding: 2px 12px; border-radius: 4px;">#ef4444</span></td>
                                <td>Errores, PDF anexo, eliminar</td>
                            </tr>
                            <tr>
                                <td><code>--bg-page</code></td>
                                <td><span style="background: #f8fafc; color: #333; padding: 2px 12px; border-radius: 4px;">#f8fafc</span></td>
                                <td>Fondo de p√°gina</td>
                            </tr>
                            <tr>
                                <td><code>--text-primary</code></td>
                                <td><span style="background: #1e293b; color: white; padding: 2px 12px; border-radius: 4px;">#1e293b</span></td>
                                <td>Texto principal</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- Section: Dashboard -->
        <section class="section" id="dashboard">
            <div class="card">
                <div class="card-header">
                    <h3><span class="icon">üìä</span> Dashboard Funcional para Abogados</h3>
                </div>
                <div class="card-body">
                    <p style="margin-bottom: 20px; color: var(--text-secondary);">
                        Dashboard completo con estad√≠sticas relevantes para abogados y sistema de notificaciones autom√°ticas por email.
                    </p>

                    <h4 style="margin: 20px 0 10px; color: var(--primary);">üìà M√©tricas Principales:</h4>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px; margin-bottom: 20px;">
                        <div style="background: rgba(16, 185, 129, 0.1); padding: 15px; border-radius: 8px; border-left: 4px solid var(--success);">
                            <h5 style="color: var(--success); margin-bottom: 8px;">Total Causas</h5>
                            <p style="margin: 0; font-size: 0.9rem;">Cantidad total de causas en el sistema con desglose de terminadas</p>
                        </div>
                        <div style="background: rgba(59, 130, 246, 0.1); padding: 15px; border-radius: 8px; border-left: 4px solid var(--info);">
                            <h5 style="color: var(--info); margin-bottom: 8px;">Causas en Tr√°mite</h5>
                            <p style="margin: 0; font-size: 0.9rem;">Causas activas actualmente en proceso</p>
                        </div>
                        <div style="background: rgba(245, 158, 11, 0.1); padding: 15px; border-radius: 8px; border-left: 4px solid var(--warning);">
                            <h5 style="color: var(--warning); margin-bottom: 8px;">Movimientos Nuevos</h5>
                            <p style="margin: 0; font-size: 0.9rem;">Causas con movimientos nuevos en los √∫ltimos 7 d√≠as</p>
                        </div>
                        <div style="background: rgba(239, 68, 68, 0.1); padding: 15px; border-radius: 8px; border-left: 4px solid var(--danger);">
                            <h5 style="color: var(--danger); margin-bottom: 8px;">PDFs Pendientes</h5>
                            <p style="margin: 0; font-size: 0.9rem;">PDFs que a√∫n no se han descargado</p>
                        </div>
                    </div>

                    <h4 style="margin: 20px 0 10px; color: var(--primary);">üìä M√©tricas Secundarias:</h4>
                    <ul style="list-style: disc; padding-left: 25px; line-height: 1.8;">
                        <li><strong>Movimientos √∫ltimos 7 d√≠as:</strong> Actividad reciente del sistema</li>
                        <li><strong>Movimientos √∫ltimos 30 d√≠as:</strong> Actividad del √∫ltimo mes</li>
                        <li><strong>Causas sin scraping:</strong> Causas que requieren procesamiento</li>
                        <li><strong>Total PDFs:</strong> Documentos descargados y almacenados</li>
                    </ul>

                    <h4 style="margin: 20px 0 10px; color: var(--primary);">üîî Sistema de Notificaciones por Email:</h4>
                    <div style="background: rgba(99, 102, 241, 0.1); border-left: 4px solid var(--primary); padding: 15px; border-radius: 6px; margin-bottom: 20px;">
                        <p style="margin: 0 0 10px; font-size: 0.9rem;">
                            El sistema detecta autom√°ticamente movimientos nuevos en el PJUD y env√≠a notificaciones por email a los clientes.
                        </p>
                        <ul style="list-style: disc; padding-left: 25px; margin: 0; line-height: 1.8; font-size: 0.9rem;">
                            <li><strong>Detecci√≥n autom√°tica:</strong> Compara movimientos con fecha de √∫ltimo scraping</li>
                            <li><strong>Email HTML:</strong> Plantilla profesional con informaci√≥n de la causa</li>
                            <li><strong>Links directos:</strong> Enlaces al detalle completo de la causa</li>
                            <li><strong>Configuraci√≥n SMTP:</strong> Soporta Gmail, Outlook, SendGrid, etc.</li>
                        </ul>
                    </div>

                    <h4 style="margin: 20px 0 10px; color: var(--primary);">üîß Endpoints API:</h4>
                    <div class="command-block">
                        <div class="command-header">
                            <span class="command-title">Obtener estad√≠sticas</span>
                            <span class="command-badge api">GET</span>
                        </div>
                        <div class="command-code">
                            <code>GET /api/dashboard/estadisticas</code>
                            <button class="copy-btn" onclick="copyCommand('curl http://localhost:3000/api/dashboard/estadisticas')">Copiar</button>
                        </div>
                        <div class="description">
                            Retorna todas las estad√≠sticas relevantes para abogados en formato JSON.
                        </div>
                    </div>

                    <div class="command-block">
                        <div class="command-header">
                            <span class="command-title">Causas con movimientos nuevos</span>
                            <span class="command-badge api">GET</span>
                        </div>
                        <div class="command-code">
                            <code>GET /api/dashboard/movimientos-nuevos</code>
                            <button class="copy-btn" onclick="copyCommand('curl http://localhost:3000/api/dashboard/movimientos-nuevos')">Copiar</button>
                        </div>
                        <div class="description">
                            Lista todas las causas que tienen movimientos nuevos desde el √∫ltimo scraping.
                        </div>
                    </div>

                    <div class="command-block">
                        <div class="command-header">
                            <span class="command-title">Verificar y notificar movimientos</span>
                            <span class="command-badge api">POST</span>
                        </div>
                        <div class="command-code">
                            <code>POST /api/dashboard/verificar-movimientos/:rit</code>
                            <button class="copy-btn" onclick="copyCommand('curl -X POST http://localhost:3000/api/dashboard/verificar-movimientos/C-571-2018 -H \"Content-Type: application/json\" -d \'{\"email_cliente\":\"cliente@ejemplo.com\",\"nombre_cliente\":\"Juan P√©rez\"}\'')">Copiar</button>
                        </div>
                        <div class="description">
                            Verifica movimientos nuevos en una causa espec√≠fica y env√≠a email de notificaci√≥n si los hay.
                        </div>
                    </div>

                    <div class="command-block">
                        <div class="command-header">
                            <span class="command-title">Verificar todas las causas</span>
                            <span class="command-badge api">POST</span>
                        </div>
                        <div class="command-code">
                            <code>POST /api/dashboard/verificar-todas</code>
                            <button class="copy-btn" onclick="copyCommand('curl -X POST http://localhost:3000/api/dashboard/verificar-todas')">Copiar</button>
                        </div>
                        <div class="description">
                            Verifica todas las causas y env√≠a notificaciones por email de movimientos nuevos.
                        </div>
                    </div>

                    <h4 style="margin: 20px 0 10px; color: var(--primary);">‚öôÔ∏è Configuraci√≥n de Email:</h4>
                    <p style="margin-bottom: 10px; color: var(--text-secondary);">
                        Para habilitar el env√≠o de emails, configura las variables SMTP en tu archivo <code>.env</code>:
                    </p>
                    <div style="background: var(--bg-code); padding: 15px; border-radius: 8px; font-family: 'JetBrains Mono', monospace; font-size: 0.85rem; margin-bottom: 15px;">
                        <code>
SMTP_HOST=smtp.gmail.com<br>
SMTP_PORT=587<br>
SMTP_USER=tu-email@gmail.com<br>
SMTP_PASS=tu-contrase√±a<br>
SMTP_FROM=noreply@tudominio.com<br>
APP_URL=http://localhost:3000
                        </code>
                    </div>
                    <p style="margin-top: 15px; font-size: 0.85rem; color: var(--text-secondary);">
                        üìñ Ver documentaci√≥n completa en <code>docs/CONFIGURACION_EMAIL.md</code>
                    </p>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    <h3><span class="icon">üé®</span> Caracter√≠sticas Visuales</h3>
                </div>
                <div class="card-body">
                    <h4 style="margin: 20px 0 10px; color: var(--primary);">üé® Paleta de Colores Institucionales:</h4>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-bottom: 20px;">
                        <div style="background: #1a237e; color: white; padding: 15px; border-radius: 8px; text-align: center;">
                            <strong>Azul Marino</strong><br>
                            <small>#1a237e</small>
                        </div>
                        <div style="background: #c62828; color: white; padding: 15px; border-radius: 8px; text-align: center;">
                            <strong>Rojo</strong><br>
                            <small>#c62828</small>
                        </div>
                        <div style="background: #f5e6d3; color: #5d4037; padding: 15px; border-radius: 8px; text-align: center; border: 1px solid #e8d5b7;">
                            <strong>Crema Oto√±al</strong><br>
                            <small>#f5e6d3</small>
                        </div>
                        <div style="background: #ffffff; color: #1a1a1a; padding: 15px; border-radius: 8px; text-align: center; border: 1px solid #e0e0e0;">
                            <strong>Blanco</strong><br>
                            <small>#ffffff</small>
                        </div>
                    </div>

                    <h4 style="margin: 20px 0 10px; color: var(--primary);">üî¥ Destacado Especial:</h4>
                    <p style="margin-bottom: 10px; color: var(--text-secondary);">
                        Los movimientos con tr√°mite <strong>"Actuaci√≥n Receptor"</strong> se muestran autom√°ticamente en <span style="color: #c62828; font-weight: 600;">rojo y negrita</span> para destacar su importancia.
                    </p>
                </div>
            </div>
        </section>

        <!-- Section: API REST -->
        <section class="section" id="api">
            <div class="card">
                <div class="card-header">
                    <h3><span class="icon">üîå</span> API REST - Consumo de Datos</h3>
                </div>
                <div class="card-body">
                    <p style="margin-bottom: 20px; color: var(--text-secondary);">
                        API REST completa para consumir datos desde la base de datos. Todos los endpoints son p√∫blicos y retornan JSON.
                    </p>

                    <h4 style="margin: 20px 0 10px; color: var(--primary);">üìã Endpoints de Causas:</h4>
                    <div class="command-block">
                        <div class="command-header">
                            <span class="command-title">Listar causas</span>
                            <span class="command-badge api">GET</span>
                        </div>
                        <div class="command-code">
                            <code>GET /api/causas?limit=50&offset=0&estado=EN_TRAMITE</code>
                            <button class="copy-btn" onclick="copyCommand('curl http://localhost:3000/api/causas?limit=10')">Copiar</button>
                        </div>
                        <div class="description">
                            Lista todas las causas con paginaci√≥n y filtros opcionales (estado, tribunal, tiene_movimientos, tiene_pdfs).
                        </div>
                    </div>

                    <div class="command-block">
                        <div class="command-header">
                            <span class="command-title">Obtener causa por RIT</span>
                            <span class="command-badge api">GET</span>
                        </div>
                        <div class="command-code">
                            <code>GET /api/causas/:rit</code>
                            <button class="copy-btn" onclick="copyCommand('curl http://localhost:3000/api/causas/C-571-2018')">Copiar</button>
                        </div>
                        <div class="description">
                            Obtiene informaci√≥n completa de una causa espec√≠fica por su RIT.
                        </div>
                    </div>

                    <div class="command-block">
                        <div class="command-header">
                            <span class="command-title">Causa completa con movimientos y PDFs</span>
                            <span class="command-badge api">GET</span>
                        </div>
                        <div class="command-code">
                            <code>GET /api/causas/:rit/completa</code>
                            <button class="copy-btn" onclick="copyCommand('curl http://localhost:3000/api/causas/C-571-2018/completa')">Copiar</button>
                        </div>
                        <div class="description">
                            Retorna causa completa con movimientos, PDFs en base64, cuadernos y eBook.
                        </div>
                    </div>

                    <div class="command-block">
                        <div class="command-header">
                            <span class="command-title">Movimientos de una causa</span>
                            <span class="command-badge api">GET</span>
                        </div>
                        <div class="command-code">
                            <code>GET /api/causas/:rit/movimientos?limit=20&etapa=Ingreso</code>
                            <button class="copy-btn" onclick="copyCommand('curl \"http://localhost:3000/api/causas/C-571-2018/movimientos?limit=10\"')">Copiar</button>
                        </div>
                        <div class="description">
                            Obtiene movimientos de una causa con filtros opcionales (etapa, tiene_pdf).
                        </div>
                    </div>

                    <h4 style="margin: 20px 0 10px; color: var(--primary);">üìã Endpoints de Movimientos:</h4>
                    <div class="command-block">
                        <div class="command-header">
                            <span class="command-title">Listar movimientos</span>
                            <span class="command-badge api">GET</span>
                        </div>
                        <div class="command-code">
                            <code>GET /api/movimientos?rit=C-571-2018&tiene_pdf=true&limit=50</code>
                            <button class="copy-btn" onclick="copyCommand('curl \"http://localhost:3000/api/movimientos?rit=C-571-2018&limit=10\"')">Copiar</button>
                        </div>
                        <div class="description">
                            Lista movimientos con filtros: rit, etapa, tiene_pdf, fecha_desde, fecha_hasta, cuaderno.
                        </div>
                    </div>

                    <div class="command-block">
                        <div class="command-header">
                            <span class="command-title">Obtener movimiento por ID</span>
                            <span class="command-badge api">GET</span>
                        </div>
                        <div class="command-code">
                            <code>GET /api/movimientos/:id</code>
                            <button class="copy-btn" onclick="copyCommand('curl http://localhost:3000/api/movimientos/1')">Copiar</button>
                        </div>
                        <div class="description">
                            Obtiene un movimiento espec√≠fico por su ID en la base de datos.
                        </div>
                    </div>

                    <h4 style="margin: 20px 0 10px; color: var(--primary);">üìã Endpoints de PDFs:</h4>
                    <div class="command-block">
                        <div class="command-header">
                            <span class="command-title">Listar PDFs</span>
                            <span class="command-badge api">GET</span>
                        </div>
                        <div class="command-code">
                            <code>GET /api/pdfs?rit=C-571-2018&tipo=PRINCIPAL</code>
                            <button class="copy-btn" onclick="copyCommand('curl \"http://localhost:3000/api/pdfs?rit=C-571-2018\"')">Copiar</button>
                        </div>
                        <div class="description">
                            Lista PDFs con filtros: rit, tipo (PRINCIPAL/ANEXO), movimiento_id.
                        </div>
                    </div>

                    <div class="command-block">
                        <div class="command-header">
                            <span class="command-title">Descargar PDF</span>
                            <span class="command-badge api">GET</span>
                        </div>
                        <div class="command-code">
                            <code>GET /api/pdf/:id</code>
                            <button class="copy-btn" onclick="copyCommand('curl -O http://localhost:3000/api/pdf/1')">Copiar</button>
                        </div>
                        <div class="description">
                            Descarga un PDF como archivo binario. Usa <code>-O</code> en curl para guardar con nombre original.
                        </div>
                    </div>

                    <div class="command-block">
                        <div class="command-header">
                            <span class="command-title">PDF en Base64</span>
                            <span class="command-badge api">GET</span>
                        </div>
                        <div class="command-code">
                            <code>GET /api/pdf/:id/base64</code>
                            <button class="copy-btn" onclick="copyCommand('curl http://localhost:3000/api/pdf/1/base64')">Copiar</button>
                        </div>
                        <div class="description">
                            Obtiene un PDF en formato base64 (JSON) para uso en frontend.
                        </div>
                    </div>

                    <h4 style="margin: 20px 0 10px; color: var(--primary);">üìö Documentaci√≥n Completa:</h4>
                    <div style="background: rgba(99, 102, 241, 0.1); border-left: 4px solid var(--primary); padding: 15px; border-radius: 6px; margin-bottom: 20px;">
                        <p style="margin: 0 0 10px; font-size: 0.9rem;">
                            <strong>üìñ Ver documentaci√≥n completa:</strong> <code>docs/API_REST.md</code>
                        </p>
                        <p style="margin: 0 0 10px; font-size: 0.9rem;">
                            <strong>üìÆ Colecci√≥n Postman:</strong> <code>docs/postman_collection.json</code>
                        </p>
                        <p style="margin: 0; font-size: 0.85rem; color: var(--text-secondary);">
                            Importa el archivo JSON en Postman para tener todos los endpoints listos para probar.
                        </p>
                    </div>

                    <h4 style="margin: 20px 0 10px; color: var(--primary);">üí° Ejemplos de Uso:</h4>
                    <div style="background: var(--bg-code); padding: 15px; border-radius: 8px; font-family: 'JetBrains Mono', monospace; font-size: 0.85rem; margin-bottom: 15px;">
                        <code>
# Obtener todas las causas en tr√°mite<br>
curl "http://localhost:3000/api/causas?estado=EN_TRAMITE&limit=10"<br><br>
# Obtener movimientos con PDF de una causa<br>
curl "http://localhost:3000/api/movimientos?rit=C-571-2018&tiene_pdf=true"<br><br>
# Obtener estad√≠sticas<br>
curl http://localhost:3000/api/dashboard/estadisticas<br><br>
# Descargar PDF<br>
curl -o documento.pdf http://localhost:3000/api/pdf/1
                        </code>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section: Servidor -->
        <section class="section" id="servidor">
            <div class="card">
                <div class="card-header">
                    <h3><span class="icon">üåê</span> Comandos del Servidor</h3>
                </div>
                <div class="card-body">
                    <div class="command-block">
                        <div class="command-header">
                            <span class="command-title">Iniciar servidor API</span>
                            <span class="command-badge npm">npm</span>
                        </div>
                        <div class="command-code">
                            <code>npm run api:start</code>
                            <button class="copy-btn" onclick="copyCommand('npm run api:start')">Copiar</button>
                        </div>
                        <div class="description">
                            Inicia el servidor Express en el puerto 3000. Sirve la API REST y los archivos est√°ticos del frontend.
                        </div>
                    </div>

                    <div class="command-block">
                        <div class="command-header">
                            <span class="command-title">Iniciar listener de eventos</span>
                            <span class="command-badge npm">npm</span>
                        </div>
                        <div class="command-code">
                            <code>npm run api:listener</code>
                            <button class="copy-btn" onclick="copyCommand('npm run api:listener')">Copiar</button>
                        </div>
                        <div class="description">
                            Inicia el listener de eventos para procesamiento as√≠ncrono de causas.
                        </div>
                    </div>

                    <div class="command-block">
                        <div class="command-header">
                            <span class="command-title">Matar proceso en puerto 3000</span>
                            <span class="command-badge shell">shell</span>
                        </div>
                        <div class="command-code">
                            <code>lsof -ti:3000 | xargs kill -9</code>
                            <button class="copy-btn" onclick="copyCommand('lsof -ti:3000 | xargs kill -9')">Copiar</button>
                        </div>
                        <div class="description">
                            Mata cualquier proceso que est√© usando el puerto 3000. √ötil cuando hay error "EADDRINUSE".
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section: Scraping -->
        <section class="section" id="scraping">
            <!-- Nota importante sobre Firefox -->
            <div class="card" style="border: 2px solid var(--warning); margin-bottom: 20px;">
                <div class="card-header" style="background: rgba(245, 158, 11, 0.2);">
                    <h3><span class="icon" style="background: var(--warning);">‚ö†Ô∏è</span> Importante: Configuraci√≥n del Navegador</h3>
                </div>
                <div class="card-body">
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                        <div style="background: rgba(16, 185, 129, 0.1); padding: 15px; border-radius: 8px;">
                            <h4 style="color: var(--secondary); margin-bottom: 10px;">ü¶ä Firefox (Recomendado)</h4>
                            <ul style="list-style: disc; padding-left: 20px; margin: 0; line-height: 1.8;">
                                <li><strong>Por defecto</strong> en el scraper</li>
                                <li>Funciona bien con reCAPTCHA v3</li>
                                <li>Carga correctamente el modal de detalle</li>
                                <li>Instalar: <code>npx playwright install firefox</code></li>
                            </ul>
                        </div>
                        <div style="background: rgba(239, 68, 68, 0.1); padding: 15px; border-radius: 8px;">
                            <h4 style="color: var(--danger); margin-bottom: 10px;">‚ùå Chromium (Problemas)</h4>
                            <ul style="list-style: disc; padding-left: 20px; margin: 0; line-height: 1.8;">
                                <li>reCAPTCHA v3 falla en modo headless</li>
                                <li>El modal de detalle no carga contenido</li>
                                <li>0 movimientos extra√≠dos</li>
                                <li>Para forzar: <code>USE_FIREFOX=false</code></li>
                            </ul>
                        </div>
                    </div>
                    <div style="background: rgba(99, 102, 241, 0.1); padding: 15px; border-radius: 8px; margin-top: 15px;">
                        <p style="margin: 0; font-size: 0.9rem;">
                            <strong>üìã Explicaci√≥n:</strong> El PJUD usa <strong>reCAPTCHA v3</strong> para proteger el acceso al detalle de causas. 
                            La funci√≥n <code>detalleCausaCivil()</code> obtiene un token de Google antes de hacer la petici√≥n AJAX al servidor. 
                            Chromium en modo headless es detectado como bot y no genera tokens v√°lidos, dejando el modal vac√≠o.
                        </p>
                    </div>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    <h3><span class="icon">üï∑Ô∏è</span> Comandos de Scraping</h3>
                </div>
                <div class="card-body">
                    <div class="command-block">
                        <div class="command-header">
                            <span class="command-title">Scraping de 5 causas de prueba</span>
                            <span class="command-badge npm">npm</span>
                        </div>
                        <div class="command-code">
                            <code>npm run test:5causas</code>
                            <button class="copy-btn" onclick="copyCommand('npm run test:5causas')">Copiar</button>
                        </div>
                        <div class="description">
                            Ejecuta el scraping de las 5 causas configuradas en <code>src/config/causas_test.json</code>. 
                            Descarga movimientos, PDFs y eBooks. <strong>Los PDFs y eBooks se convierten autom√°ticamente a base64</strong> y se guardan tanto en JSON como en la base de datos MariaDB (si est√° configurada).
                        </div>
                    </div>

                    <div class="command-block">
                        <div class="command-header">
                            <span class="command-title">Opciones del scraper-5-causas</span>
                            <span class="command-badge node">node</span>
                        </div>
                        <div class="command-code">
                            <code>node src/test/scraper-5-causas.js [--skip-pdfs] [--skip-ebook] [--skip-database] [--causa=RIT]</code>
                            <button class="copy-btn" onclick="copyCommand('node src/test/scraper-5-causas.js [--skip-pdfs] [--skip-ebook] [--skip-database] [--causa=RIT]')">Copiar</button>
                        </div>
                        <div class="description">
                            <ul style="list-style: disc; padding-left: 20px; margin-top: 10px;">
                                <li><code>--skip-pdfs</code>: Omite la descarga de PDFs</li>
                                <li><code>--skip-ebook</code>: Omite la descarga del eBook</li>
                                <li><code>--skip-database</code>: Omite el guardado en base de datos (solo guarda JSON)</li>
                                <li><code>--causa=RIT</code>: Procesa solo una causa espec√≠fica (ej: <code>--causa=C-3030-2017</code>)</li>
                            </ul>
                        </div>
                    </div>

                    <div class="command-block">
                        <div class="command-header">
                            <span class="command-title">Dry-run (sin scraping real)</span>
                            <span class="command-badge npm">npm</span>
                        </div>
                        <div class="command-code">
                            <code>npm run test:5causas:dry</code>
                            <button class="copy-btn" onclick="copyCommand('npm run test:5causas:dry')">Copiar</button>
                        </div>
                        <div class="description">
                            Simula el scraping sin conectarse al PJUD. √ötil para probar la configuraci√≥n.
                        </div>
                    </div>

                    <div class="command-block">
                        <div class="command-header">
                            <span class="command-title">Scraping de una causa espec√≠fica</span>
                            <span class="command-badge node">node</span>
                        </div>
                        <div class="command-code">
                            <code>node src/test/scraper-5-causas.js --causa=C-571-2018</code>
                            <button class="copy-btn" onclick="copyCommand('node src/test/scraper-5-causas.js --causa=C-571-2018')">Copiar</button>
                        </div>
                        <div class="description">
                            Ejecuta el scraping solo para la causa especificada. Usa el formato <code>--causa=TIPO-ROL-A√ëO</code>.
                        </div>
                    </div>

                    <div class="command-block">
                        <div class="command-header">
                            <span class="command-title">Scraping masivo desde CSV</span>
                            <span class="command-badge npm">npm</span>
                        </div>
                        <div class="command-code">
                            <code>npm run scrape:masivo</code>
                            <button class="copy-btn" onclick="copyCommand('npm run scrape:masivo')">Copiar</button>
                        </div>
                        <div class="description">
                            Procesa todas las causas del archivo <code>causa_validas.csv</code> de forma masiva.
                        </div>
                    </div>

                    <div class="command-block">
                        <div class="command-header">
                            <span class="command-title">Scraping por lotes</span>
                            <span class="command-badge npm">npm</span>
                        </div>
                        <div class="command-code">
                            <code>npm run scrape:batch</code>
                            <button class="copy-btn" onclick="copyCommand('npm run scrape:batch')">Copiar</button>
                        </div>
                        <div class="description">
                            Procesa causas en lotes con pausas entre cada una para evitar bloqueos.
                        </div>
                    </div>

                    <div class="command-block">
                        <div class="command-header">
                            <span class="command-title">Scraping individual</span>
                            <span class="command-badge node">node</span>
                        </div>
                        <div class="command-code">
                            <code>node src/index.js</code>
                            <button class="copy-btn" onclick="copyCommand('node src/index.js')">Copiar</button>
                        </div>
                        <div class="description">
                            Ejecuta scraping de una sola causa usando la configuraci√≥n en <code>src/config/pjud_config.json</code>.
                        </div>
                    </div>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    <h3><span class="icon">üìã</span> Causas de Prueba Configuradas</h3>
                </div>
                <div class="card-body">
                    <p style="margin-bottom: 15px; color: var(--text-secondary);">
                        Archivo: <code>src/config/causas_test.json</code> - Causas verificadas con movimientos y PDFs disponibles.
                    </p>
                    <table class="info-table">
                        <thead>
                            <tr>
                                <th>RIT</th>
                                <th>Tribunal</th>
                                <th>Caratulado</th>
                                <th>Estado</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>C-571-2018</code></td>
                                <td>Juzgado de Letras de Ca√±ete</td>
                                <td>PROMOTORA CMR FALABELLA S.A/VALENZUELA</td>
                                <td><span class="status success">‚úÖ Verificado</span></td>
                            </tr>
                            <tr>
                                <td><code>C-5212-2020</code></td>
                                <td>3¬∫ Juzgado Civil de San Miguel</td>
                                <td>BANCO DE CR√âDITO E INVERSIONES/D√çAZ</td>
                                <td><span class="status warning">‚ö†Ô∏è Pendiente</span></td>
                            </tr>
                            <tr>
                                <td><code>C-8234-2020</code></td>
                                <td>7¬∫ Juzgado Civil de Santiago</td>
                                <td>BANCO DEL ESTADO DE CHILE/C√ÅCERES</td>
                                <td><span class="status success">‚úÖ Verificado</span></td>
                            </tr>
                            <tr>
                                <td><code>C-3943-2020</code></td>
                                <td>Juzgado de Letras de Pe√±aflor</td>
                                <td>CAT ADMINISTRADORA DE TARJETA S.A./RUBILAR</td>
                                <td><span class="status warning">‚ö†Ô∏è Pendiente</span></td>
                            </tr>
                            <tr>
                                <td><code>C-3443-2020</code></td>
                                <td>2¬∫ Juzgado de Letras de Iquique</td>
                                <td>BANCO DE CR√âDITO E INVERSIONES/ULLOA</td>
                                <td><span class="status success">‚úÖ Verificado</span></td>
                            </tr>
                        </tbody>
                    </table>
                    <p style="margin-top: 15px; font-size: 0.85rem; color: var(--text-secondary);">
                        <strong>Nota:</strong> Las causas marcadas como "Pendiente" pueden no encontrarse en PJUD o tener un formato diferente. 
                        Actualiza el archivo JSON con nuevas causas si es necesario.
                    </p>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    <h3><span class="icon">üîÑ</span> Proceso de Scraping con Base64</h3>
                </div>
                <div class="card-body">
                    <div style="background: rgba(99, 102, 241, 0.1); border-left: 4px solid var(--primary); padding: 15px; border-radius: 6px; margin-bottom: 20px;">
                        <h4 style="color: var(--primary); margin-bottom: 15px;">üìã Flujo Completo del Scraping</h4>
                        <ol style="list-style: decimal; padding-left: 25px; margin: 0; line-height: 1.8;">
                            <li><strong>Navegaci√≥n:</strong> Accede al formulario de consulta de causas en PJUD</li>
                            <li><strong>B√∫squeda:</strong> Llena el formulario con los datos de la causa (RIT, tipo, competencia, corte, tribunal)</li>
                            <li><strong>Extracci√≥n:</strong> Abre el detalle y extrae movimientos (con soporte para cuadernos si existen)</li>
                            <li><strong>Descarga PDFs:</strong> Descarga todos los PDFs de movimientos (azul/principal y rojo/anexo)</li>
                            <li><strong>Conversi√≥n Base64:</strong> Cada PDF descargado se convierte autom√°ticamente a string base64</li>
                            <li><strong>Descarga eBook:</strong> Descarga el eBook completo de la causa (si existe)</li>
                            <li><strong>Conversi√≥n eBook:</strong> El eBook se convierte a base64 y se identifica como <code>pdf_ebook</code> por RIT</li>
                            <li><strong>Guardado JSON:</strong> Se guarda en <code>movimientos_{RIT}.json</code> con:
                                <ul style="list-style: disc; padding-left: 20px; margin-top: 8px;">
                                    <li>Movimientos con <code>pdf_azul</code> y <code>pdf_rojo</code> (objetos con <code>nombre</code>, <code>base64</code>, <code>tipo</code>)</li>
                                    <li>Campo <code>pdf_ebook</code> a nivel de causa (identificado por RIT)</li>
                                </ul>
                            </li>
                            <li><strong>Guardado BD:</strong> Si <code>DB_HOST</code> est√° configurado, guarda autom√°ticamente en MariaDB:
                                <ul style="list-style: disc; padding-left: 20px; margin-top: 8px;">
                                    <li>Causa en tabla <code>causas</code></li>
                                    <li>Movimientos en tabla <code>movimientos</code></li>
                                    <li>PDFs en tabla <code>pdfs</code> con <code>base64_content</code> (LONGTEXT)</li>
                                    <li>eBook en tabla <code>ebooks</code> con <code>base64_content</code> (LONGTEXT), identificado por RIT</li>
                                </ul>
                            </li>
                        </ol>
                    </div>

                    <div style="background: rgba(16, 185, 129, 0.1); border-left: 4px solid var(--secondary); padding: 15px; border-radius: 6px; margin-bottom: 20px;">
                        <h4 style="color: var(--secondary); margin-bottom: 15px;">‚úÖ Caracter√≠sticas del Sistema Base64</h4>
                        <ul style="list-style: disc; padding-left: 20px; margin: 0; line-height: 1.8;">
                            <li><strong>Conversi√≥n autom√°tica:</strong> Todos los PDFs y eBooks se convierten a base64 durante la descarga</li>
                            <li><strong>Doble almacenamiento:</strong> Se guarda tanto en JSON (para portabilidad) como en BD (para consulta)</li>
                            <li><strong>Identificaci√≥n por RIT:</strong> El <code>pdf_ebook</code> se identifica √∫nicamente por el RIT de la causa</li>
                            <li><strong>Asociaci√≥n PDFs-Movimientos:</strong> Los PDFs se asocian correctamente a sus movimientos mediante <code>movimiento_id</code></li>
                            <li><strong>Compatibilidad MariaDB 5.5:</strong> Usa LONGTEXT para almacenar base64 (no JSON nativo)</li>
                            <li><strong>Tracking de tama√±o:</strong> Guarda <code>tamano_base64_bytes</code> para monitoreo</li>
                        </ul>
                    </div>

                    <div style="background: rgba(245, 158, 11, 0.1); border-left: 4px solid var(--warning); padding: 15px; border-radius: 6px;">
                        <h4 style="color: var(--warning); margin-bottom: 15px;">‚ö†Ô∏è Configuraci√≥n Requerida</h4>
                        <p style="margin: 0 0 10px 0; line-height: 1.6;">
                            Para que el guardado autom√°tico en base de datos funcione, configura las siguientes variables en tu archivo <code>.env</code>:
                        </p>
                        <div class="command-code" style="margin-top: 10px;">
                            <code>DB_HOST=localhost
DB_PORT=3306
DB_USER=tu_usuario
DB_PASSWORD=tu_password
DB_NAME=pjud_scraping</code>
                        </div>
                        <p style="margin-top: 10px; margin-bottom: 0; font-size: 0.9rem; color: var(--text-secondary);">
                            Si <code>DB_HOST</code> no est√° configurado, el scraper solo guardar√° en JSON. Usa <code>--skip-database</code> para omitir el guardado en BD incluso si est√° configurado.
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section: Database -->
        <section class="section" id="database">
            <div class="card">
                <div class="card-header">
                    <h3><span class="icon">üóÑÔ∏è</span> Informaci√≥n de Base de Datos</h3>
                </div>
                <div class="card-body">
                    <div style="background: rgba(99, 102, 241, 0.1); border-left: 4px solid var(--primary); padding: 15px; border-radius: 6px; margin-bottom: 20px;">
                        <h4 style="color: var(--primary); margin-bottom: 10px;">üìã Versi√≥n del Sistema</h4>
                        <ul style="list-style: none; padding: 0; margin: 0;">
                            <li style="margin: 8px 0;"><strong>Linux:</strong> CentOS Linux release 7.9.2009</li>
                            <li style="margin: 8px 0;"><strong>MariaDB:</strong> Ver 15.1 Distrib 5.5.68-MariaDB</li>
                            <li style="margin: 8px 0;"><strong>Apache:</strong> Apache/2.4.6 (CentOS)</li>
                            <li style="margin: 8px 0;"><strong>PHP:</strong> PHP 7.4.33</li>
                        </ul>
                    </div>

                    <div style="background: rgba(16, 185, 129, 0.1); border-left: 4px solid var(--secondary); padding: 15px; border-radius: 6px; margin-bottom: 20px;">
                        <h4 style="color: var(--secondary); margin-bottom: 10px;">üíæ Almacenamiento Base64</h4>
                        <p style="margin: 0; line-height: 1.6;">
                            Los PDFs y eBooks descargados durante el scraping se convierten autom√°ticamente a <strong>base64</strong> y se almacenan en:
                        </p>
                        <ul style="list-style: disc; padding-left: 20px; margin-top: 10px;">
                            <li><strong>JSON:</strong> En el archivo <code>movimientos_{RIT}.json</code> dentro de cada movimiento (campo <code>pdf_azul</code>, <code>pdf_rojo</code>) o en el nivel de causa (campo <code>ebook</code> con <code>pdf_ebook</code>)</li>
                            <li><strong>Base de Datos:</strong> En las tablas <code>pdfs</code> y <code>ebooks</code> en el campo <code>base64_content</code> (LONGTEXT para MariaDB 5.5)</li>
                        </ul>
                        <p style="margin-top: 10px; margin-bottom: 0; font-size: 0.9rem; color: var(--text-secondary);">
                            <strong>Nota:</strong> MariaDB 5.5 no soporta JSON nativo, por lo que usamos LONGTEXT para almacenar el contenido base64.
                        </p>
                    </div>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    <h3><span class="icon">üóÑÔ∏è</span> Comandos de Base de Datos</h3>
                </div>
                <div class="card-body">
                    <div class="command-block">
                        <div class="command-header">
                            <span class="command-title">Crear schema en MariaDB</span>
                            <span class="command-badge mysql">mysql</span>
                        </div>
                        <div class="command-code">
                            <code>mysql -u usuario -p nombre_bd < database/schema_mariadb_5.5.sql</code>
                            <button class="copy-btn" onclick="copyCommand('mysql -u usuario -p nombre_bd < database/schema_mariadb_5.5.sql')">Copiar</button>
                        </div>
                        <div class="description">
                            Crea todas las tablas necesarias en la base de datos. Compatible con MariaDB 5.5.68.
                        </div>
                    </div>

                    <div class="command-block">
                        <div class="command-header">
                            <span class="command-title">Probar conexi√≥n a BD</span>
                            <span class="command-badge npm">npm</span>
                        </div>
                        <div class="command-code">
                            <code>npm run db:test</code>
                            <button class="copy-btn" onclick="copyCommand('npm run db:test')">Copiar</button>
                        </div>
                        <div class="description">
                            Prueba la conexi√≥n a la base de datos usando las credenciales del archivo <code>.env</code>.
                        </div>
                    </div>

                    <div class="command-block">
                        <div class="command-header">
                            <span class="command-title">Importar movimientos a BD</span>
                            <span class="command-badge npm">npm</span>
                        </div>
                        <div class="command-code">
                            <code>npm run importar:movimientos</code>
                            <button class="copy-btn" onclick="copyCommand('npm run importar:movimientos')">Copiar</button>
                        </div>
                        <div class="description">
                            Importa los movimientos extra√≠dos de los archivos JSON a la base de datos.
                        </div>
                    </div>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    <h3><span class="icon">üìã</span> Tablas de la Base de Datos</h3>
                </div>
                <div class="card-body">
                    <table class="info-table">
                        <thead>
                            <tr>
                                <th>Tabla</th>
                                <th>Descripci√≥n</th>
                                <th>Campos Principales</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>causas</code></td>
                                <td>Informaci√≥n general de causas</td>
                                <td>rit, caratulado, juzgado, fecha_ingreso, estado</td>
                            </tr>
                            <tr>
                                <td><code>movimientos</code></td>
                                <td>Historial de movimientos</td>
                                <td>causa_id, folio, fecha, etapa, descripcion</td>
                            </tr>
                            <tr>
                                <td><code>etapas_juicio</code></td>
                                <td>Cat√°logo de etapas procesales</td>
                                <td>codigo, nombre, orden</td>
                            </tr>
                            <tr>
                                <td><code>pdfs</code></td>
                                <td>Registro de PDFs descargados con base64</td>
                                <td>movimiento_id, nombre_archivo, ruta, <strong>base64_content</strong> (LONGTEXT), tipo (PRINCIPAL/ANEXO/EBOOK)</td>
                            </tr>
                            <tr>
                                <td><code>ebooks</code></td>
                                <td>Registro de eBooks descargados con base64 (pdf_ebook)</td>
                                <td>causa_id, nombre_archivo, ruta, <strong>base64_content</strong> (LONGTEXT), identificado por RIT</td>
                            </tr>
                            <tr>
                                <td><code>errores_scraping</code></td>
                                <td>Log de errores del scraping</td>
                                <td>rit, tipo_error, mensaje, intentos</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- Section: Git & Versiones -->
        <section class="section" id="git">
            <div class="card">
                <div class="card-header">
                    <h3><span class="icon">üîÄ</span> Comandos Git Comunes</h3>
                </div>
                <div class="card-body">
                    <div class="command-block">
                        <div class="command-header">
                            <span class="command-title">Ver estado actual</span>
                            <span class="command-badge shell">git</span>
                        </div>
                        <div class="command-code">
                            <code>git status</code>
                            <button class="copy-btn" onclick="copyCommand('git status')">Copiar</button>
                        </div>
                        <div class="description">
                            Muestra el estado del repositorio: archivos modificados, nuevos, y en qu√© rama est√°s.
                        </div>
                    </div>

                    <div class="command-block">
                        <div class="command-header">
                            <span class="command-title">Ver todas las ramas</span>
                            <span class="command-badge shell">git</span>
                        </div>
                        <div class="command-code">
                            <code>git branch -a</code>
                            <button class="copy-btn" onclick="copyCommand('git branch -a')">Copiar</button>
                        </div>
                        <div class="description">
                            Lista todas las ramas locales y remotas del proyecto.
                        </div>
                    </div>

                    <div class="command-block">
                        <div class="command-header">
                            <span class="command-title">Cambiar de rama</span>
                            <span class="command-badge shell">git</span>
                        </div>
                        <div class="command-code">
                            <code>git checkout nombre-rama</code>
                            <button class="copy-btn" onclick="copyCommand('git checkout nombre-rama')">Copiar</button>
                        </div>
                        <div class="description">
                            Cambia a otra rama. Ejemplo: <code>git checkout front-estable</code>
                        </div>
                    </div>

                    <div class="command-block">
                        <div class="command-header">
                            <span class="command-title">Ver historial de commits</span>
                            <span class="command-badge shell">git</span>
                        </div>
                        <div class="command-code">
                            <code>git log --oneline -10</code>
                            <button class="copy-btn" onclick="copyCommand('git log --oneline -10')">Copiar</button>
                        </div>
                        <div class="description">
                            Muestra los √∫ltimos 10 commits en formato resumido (una l√≠nea por commit).
                        </div>
                    </div>

                    <div class="command-block">
                        <div class="command-header">
                            <span class="command-title">Ver todos los tags (versiones)</span>
                            <span class="command-badge shell">git</span>
                        </div>
                        <div class="command-code">
                            <code>git tag -l</code>
                            <button class="copy-btn" onclick="copyCommand('git tag -l')">Copiar</button>
                        </div>
                        <div class="description">
                            Lista todas las versiones etiquetadas del proyecto.
                        </div>
                    </div>

                    <div class="command-block">
                        <div class="command-header">
                            <span class="command-title">Agregar cambios al staging</span>
                            <span class="command-badge shell">git</span>
                        </div>
                        <div class="command-code">
                            <code>git add .</code>
                            <button class="copy-btn" onclick="copyCommand('git add .')">Copiar</button>
                        </div>
                        <div class="description">
                            Agrega todos los archivos modificados al √°rea de staging (preparaci√≥n para commit).
                        </div>
                    </div>

                    <div class="command-block">
                        <div class="command-header">
                            <span class="command-title">Hacer commit de cambios</span>
                            <span class="command-badge shell">git</span>
                        </div>
                        <div class="command-code">
                            <code>git commit -m "Mensaje descriptivo"</code>
                            <button class="copy-btn" onclick="copyCommand('git commit -m "Mensaje descriptivo"')">Copiar</button>
                        </div>
                        <div class="description">
                            Guarda los cambios en el historial con un mensaje descriptivo.
                        </div>
                    </div>

                    <div class="command-block">
                        <div class="command-header">
                            <span class="command-title">Subir cambios al remoto</span>
                            <span class="command-badge shell">git</span>
                        </div>
                        <div class="command-code">
                            <code>git push origin nombre-rama</code>
                            <button class="copy-btn" onclick="copyCommand('git push origin nombre-rama')">Copiar</button>
                        </div>
                        <div class="description">
                            Sube los commits de la rama al repositorio remoto (GitHub). Ejemplo: <code>git push origin front-estable</code>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    <h3><span class="icon">üåø</span> Ramas del Proyecto</h3>
                </div>
                <div class="card-body">
                    <table class="info-table">
                        <thead>
                            <tr>
                                <th>Rama</th>
                                <th>Descripci√≥n</th>
                                <th>Estado</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>front-estable</code></td>
                                <td>Versi√≥n estable con implementaci√≥n completa de cuadernos y mejoras del frontend</td>
                                <td><span class="status success">‚úÖ Activa</span></td>
                            </tr>
                            <tr>
                                <td><code>diegogo-test</code></td>
                                <td>Rama de desarrollo y pruebas</td>
                                <td><span class="status info">üîÑ Desarrollo</span></td>
                            </tr>
                            <tr>
                                <td><code>main</code></td>
                                <td>Rama principal del proyecto</td>
                                <td><span class="status info">üì¶ Producci√≥n</span></td>
                            </tr>
                            <tr>
                                <td><code>feature/exportar-pdf-json</code></td>
                                <td>Feature para exportar PDFs en formato JSON</td>
                                <td><span class="status warning">‚ö†Ô∏è Feature</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    <h3><span class="icon">üìå</span> Versiones Etiquetadas (Tags)</h3>
                </div>
                <div class="card-body">
                    <table class="info-table">
                        <thead>
                            <tr>
                                <th>Tag</th>
                                <th>Commit</th>
                                <th>Descripci√≥n</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>v1.0.0-front-estable</code></td>
                                <td><code>e5e4dd5</code></td>
                                <td>Versi√≥n estable: Implementaci√≥n completa de cuadernos, tabla completa con todas las columnas, frontend mejorado con selector de cuaderno</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    <h3><span class="icon">üìú</span> Commits Importantes</h3>
                </div>
                <div class="card-body">
                    <table class="info-table">
                        <thead>
                            <tr>
                                <th>Commit</th>
                                <th>Mensaje</th>
                                <th>Archivos</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>e5e4dd5</code></td>
                                <td>feat: Implementaci√≥n completa de cuadernos y mejora del frontend</td>
                                <td>36 archivos (8466 inserciones, 523 eliminaciones)</td>
                            </tr>
                            <tr>
                                <td><code>808a21d</code></td>
                                <td>Versi√≤n con problemas de descarga PDF</td>
                                <td>Versi√≥n anterior con problemas conocidos</td>
                            </tr>
                            <tr>
                                <td><code>a776d97</code></td>
                                <td>FIX MVP movimientos causas</td>
                                <td>Correcci√≥n de movimientos en MVP</td>
                            </tr>
                            <tr>
                                <td><code>22bae10</code></td>
                                <td>feat: Primera versi√≥n estable 0.0.1 - Vista MVP completa</td>
                                <td>Primera versi√≥n estable del MVP</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    <h3><span class="icon">‚èÆÔ∏è</span> C√≥mo Volver a una Versi√≥n Anterior</h3>
                </div>
                <div class="card-body">
                    <div class="command-block">
                        <div class="command-header">
                            <span class="command-title">Opci√≥n 1: Volver a una rama espec√≠fica</span>
                            <span class="command-badge shell">git</span>
                        </div>
                        <div class="command-code">
                            <code>git checkout front-estable</code>
                            <button class="copy-btn" onclick="copyCommand('git checkout front-estable')">Copiar</button>
                        </div>
                        <div class="description">
                            Cambia a la rama <code>front-estable</code> que contiene la versi√≥n estable m√°s reciente.
                        </div>
                    </div>

                    <div class="command-block">
                        <div class="command-header">
                            <span class="command-title">Opci√≥n 2: Volver a un tag (versi√≥n espec√≠fica)</span>
                            <span class="command-badge shell">git</span>
                        </div>
                        <div class="command-code">
                            <code>git checkout v1.0.0-front-estable</code>
                            <button class="copy-btn" onclick="copyCommand('git checkout v1.0.0-front-estable')">Copiar</button>
                        </div>
                        <div class="description">
                            Vuelve a la versi√≥n etiquetada <code>v1.0.0-front-estable</code>. Esto te dejar√° en estado "detached HEAD".
                        </div>
                    </div>

                    <div class="command-block">
                        <div class="command-header">
                            <span class="command-title">Opci√≥n 3: Crear nueva rama desde un tag</span>
                            <span class="command-badge shell">git</span>
                        </div>
                        <div class="command-code">
                            <code>git checkout -b recuperacion v1.0.0-front-estable</code>
                            <button class="copy-btn" onclick="copyCommand('git checkout -b recuperacion v1.0.0-front-estable')">Copiar</button>
                        </div>
                        <div class="description">
                            Crea una nueva rama llamada "recuperacion" desde el tag, permiti√©ndote trabajar sobre esa versi√≥n.
                        </div>
                    </div>

                    <div class="command-block">
                        <div class="command-header">
                            <span class="command-title">Opci√≥n 4: Volver a un commit espec√≠fico</span>
                            <span class="command-badge shell">git</span>
                        </div>
                        <div class="command-code">
                            <code>git checkout e5e4dd5</code>
                            <button class="copy-btn" onclick="copyCommand('git checkout e5e4dd5')">Copiar</button>
                        </div>
                        <div class="description">
                            Vuelve al commit espec√≠fico <code>e5e4dd5</code> (versi√≥n estable actual). Reemplaza con el hash del commit que necesites.
                        </div>
                    </div>

                    <div class="command-block">
                        <div class="command-header">
                            <span class="command-title">Opci√≥n 5: Resetear a un commit (‚ö†Ô∏è CUIDADO: pierde cambios)</span>
                            <span class="command-badge shell">git</span>
                        </div>
                        <div class="command-code">
                            <code>git reset --hard e5e4dd5</code>
                            <button class="copy-btn" onclick="copyCommand('git reset --hard e5e4dd5')">Copiar</button>
                        </div>
                        <div class="description">
                            <strong>‚ö†Ô∏è ADVERTENCIA:</strong> Este comando elimina todos los cambios no guardados y resetea el repositorio al commit especificado. √ösalo solo si est√°s seguro.
                        </div>
                    </div>

                    <div class="command-block">
                        <div class="command-header">
                            <span class="command-title">Ver detalles de un commit</span>
                            <span class="command-badge shell">git</span>
                        </div>
                        <div class="command-code">
                            <code>git show e5e4dd5</code>
                            <button class="copy-btn" onclick="copyCommand('git show e5e4dd5')">Copiar</button>
                        </div>
                        <div class="description">
                            Muestra informaci√≥n detallada del commit: autor, fecha, mensaje y archivos modificados.
                        </div>
                    </div>

                    <div class="command-block">
                        <div class="command-header">
                            <span class="command-title">Ver qu√© archivos cambi√≥ un commit</span>
                            <span class="command-badge shell">git</span>
                        </div>
                        <div class="command-code">
                            <code>git show --stat e5e4dd5</code>
                            <button class="copy-btn" onclick="copyCommand('git show --stat e5e4dd5')">Copiar</button>
                        </div>
                        <div class="description">
                            Muestra un resumen estad√≠stico de los archivos modificados en el commit (cu√°ntas l√≠neas agregadas/eliminadas).
                        </div>
                    </div>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    <h3><span class="icon">üíæ</span> Informaci√≥n de Respaldo</h3>
                </div>
                <div class="card-body">
                    <div style="background: rgba(16, 185, 129, 0.1); border-left: 4px solid var(--secondary); padding: 15px; border-radius: 6px; margin-bottom: 15px;">
                        <h4 style="color: var(--secondary); margin-bottom: 10px;">‚úÖ Versi√≥n Estable Actual</h4>
                        <ul style="list-style: none; padding: 0; margin: 0;">
                            <li style="margin: 8px 0;"><strong>Rama:</strong> <code>front-estable</code></li>
                            <li style="margin: 8px 0;"><strong>Commit:</strong> <code>e5e4dd5</code></li>
                            <li style="margin: 8px 0;"><strong>Tag:</strong> <code>v1.0.0-front-estable</code></li>
                            <li style="margin: 8px 0;"><strong>Remoto:</strong> <code>origin/front-estable</code></li>
                            <li style="margin: 8px 0;"><strong>Archivos:</strong> 36 archivos (8466 inserciones, 523 eliminaciones)</li>
                        </ul>
                    </div>

                    <div style="background: rgba(99, 102, 241, 0.1); border-left: 4px solid var(--primary); padding: 15px; border-radius: 6px;">
                        <h4 style="color: var(--primary); margin-bottom: 10px;">üìã Caracter√≠sticas de esta versi√≥n</h4>
                        <ul style="list-style: disc; padding-left: 20px; margin: 0;">
                            <li>M√≥dulo <code>cuadernos.js</code> para extraer movimientos por cuaderno con <code>id_pagina</code></li>
                            <li>Tabla completa con todas las columnas (Folio, Doc, Anexo, Etapa, Tr√°mite, Desc, Fecha, Foja, Georref)</li>
                            <li>Frontend <code>demo.html</code> con misma estructura que <code>/movimientos</code></li>
                            <li>Selector de Cuaderno con filtrado por <code>id_cuaderno</code></li>
                            <li>Descarga de PDFs por cuaderno con base64</li>
                            <li>Sistema completo de <code>id_pagina</code> e <code>id_cuaderno</code> para mostrar movimientos tal cual en PJUD</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section: Testing -->
        <section class="section" id="testing">
            <div class="card">
                <div class="card-header">
                    <h3><span class="icon">üß™</span> Comandos de Testing</h3>
                </div>
                <div class="card-body">
                    <div class="command-block">
                        <div class="command-header">
                            <span class="command-title">Ejecutar todas las pruebas</span>
                            <span class="command-badge npm">npm</span>
                        </div>
                        <div class="command-code">
                            <code>npm test</code>
                            <button class="copy-btn" onclick="copyCommand('npm test')">Copiar</button>
                        </div>
                        <div class="description">
                            Ejecuta las 54 pruebas unitarias de los m√≥dulos: dataProcessor, ErrorRegistry, clasificarEtapa.
                        </div>
                    </div>

                    <div class="command-block">
                        <div class="command-header">
                            <span class="command-title">Ejecutar test espec√≠fico</span>
                            <span class="command-badge npm">npm</span>
                        </div>
                        <div class="command-code">
                            <code>npm test -- --only=data-processor</code>
                            <button class="copy-btn" onclick="copyCommand('npm test -- --only=data-processor')">Copiar</button>
                        </div>
                        <div class="description">
                            Ejecuta solo el archivo de test especificado. Opciones: data-processor, error-registry, etapas-juicio.
                        </div>
                    </div>

                    <div class="command-block">
                        <div class="command-header">
                            <span class="command-title">Test de carga</span>
                            <span class="command-badge npm">npm</span>
                        </div>
                        <div class="command-code">
                            <code>npm run test:carga</code>
                            <button class="copy-btn" onclick="copyCommand('npm run test:carga')">Copiar</button>
                        </div>
                        <div class="description">
                            Ejecuta pruebas de carga para verificar el rendimiento del sistema.
                        </div>
                    </div>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    <h3><span class="icon">üìÅ</span> Archivos de Test</h3>
                </div>
                <div class="card-body">
                    <table class="info-table">
                        <thead>
                            <tr>
                                <th>Archivo</th>
                                <th>Tests</th>
                                <th>Descripci√≥n</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>test-data-processor.js</code></td>
                                <td><span class="status success">16</span></td>
                                <td>Procesamiento de datos extra√≠dos</td>
                            </tr>
                            <tr>
                                <td><code>test-error-registry.js</code></td>
                                <td><span class="status success">18</span></td>
                                <td>Registro y control de errores</td>
                            </tr>
                            <tr>
                                <td><code>test-etapas-juicio.js</code></td>
                                <td><span class="status success">20</span></td>
                                <td>Clasificaci√≥n de etapas procesales</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- Section: Tools -->
        <section class="section" id="tools">
            <div class="card">
                <div class="card-header">
                    <h3><span class="icon">üîß</span> Herramientas y Utilidades</h3>
                </div>
                <div class="card-body">
                    <div class="command-block">
                        <div class="command-header">
                            <span class="command-title">Instalar dependencias</span>
                            <span class="command-badge npm">npm</span>
                        </div>
                        <div class="command-code">
                            <code>npm install</code>
                            <button class="copy-btn" onclick="copyCommand('npm install')">Copiar</button>
                        </div>
                    </div>

                    <div class="command-block">
                        <div class="command-header">
                            <span class="command-title">Instalar Firefox para Playwright (recomendado)</span>
                            <span class="command-badge npm">npm</span>
                        </div>
                        <div class="command-code">
                            <code>npx playwright install firefox</code>
                            <button class="copy-btn" onclick="copyCommand('npx playwright install firefox')">Copiar</button>
                        </div>
                        <div class="description">
                            Firefox es el navegador por defecto. Funciona mejor con reCAPTCHA v3 del PJUD.
                        </div>
                    </div>

                    <div class="command-block">
                        <div class="command-header">
                            <span class="command-title">Instalar Chromium para Playwright (alternativo)</span>
                            <span class="command-badge npm">npm</span>
                        </div>
                        <div class="command-code">
                            <code>npx playwright install chromium</code>
                            <button class="copy-btn" onclick="copyCommand('npx playwright install chromium')">Copiar</button>
                        </div>
                        <div class="description">
                            <strong>‚ö†Ô∏è No recomendado:</strong> Chromium tiene problemas con reCAPTCHA v3 en modo headless.
                        </div>
                    </div>

                    <div class="command-block">
                        <div class="command-header">
                            <span class="command-title">Backup y limpieza</span>
                            <span class="command-badge npm">npm</span>
                        </div>
                        <div class="command-code">
                            <code>npm run backup:clean</code>
                            <button class="copy-btn" onclick="copyCommand('npm run backup:clean')">Copiar</button>
                        </div>
                    </div>

                    <div class="command-block">
                        <div class="command-header">
                            <span class="command-title">Monitor de recursos</span>
                            <span class="command-badge npm">npm</span>
                        </div>
                        <div class="command-code">
                            <code>npm run monitor</code>
                            <button class="copy-btn" onclick="copyCommand('npm run monitor')">Copiar</button>
                        </div>
                    </div>

                    <div class="command-block">
                        <div class="command-header">
                            <span class="command-title">Control de servicios</span>
                            <span class="command-badge npm">npm</span>
                        </div>
                        <div class="command-code">
                            <code>npm run services:start   # Iniciar servicios
npm run services:stop    # Detener servicios
npm run services:status  # Ver estado</code>
                            <button class="copy-btn" onclick="copyCommand('npm run services:start')">Copiar</button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    <h3><span class="icon">‚öôÔ∏è</span> Variables de Entorno (.env)</h3>
                </div>
                <div class="card-body">
                    <table class="info-table">
                        <thead>
                            <tr>
                                <th>Variable</th>
                                <th>Descripci√≥n</th>
                                <th>Ejemplo</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>OJV_URL</code></td>
                                <td>URL del portal PJUD</td>
                                <td>https://oficinajudicialvirtual.pjud.cl/indexN.php</td>
                            </tr>
                            <tr>
                                <td><code>DB_HOST</code></td>
                                <td>Host de la base de datos</td>
                                <td>localhost</td>
                            </tr>
                            <tr>
                                <td><code>DB_USER</code></td>
                                <td>Usuario de BD</td>
                                <td>root</td>
                            </tr>
                            <tr>
                                <td><code>DB_PASSWORD</code></td>
                                <td>Contrase√±a de BD</td>
                                <td>********</td>
                            </tr>
                            <tr>
                                <td><code>DB_NAME</code></td>
                                <td>Nombre de la BD</td>
                                <td>pjud_scraping</td>
                            </tr>
                            <tr>
                                <td><code>API_PORT</code></td>
                                <td>Puerto del servidor</td>
                                <td>3000</td>
                            </tr>
                            <tr>
                                <td><code>USE_FIREFOX</code></td>
                                <td>Usar Firefox en lugar de Chromium</td>
                                <td>true (por defecto)</td>
                            </tr>
                            <tr>
                                <td><code>SCRAPER_HEADLESS</code></td>
                                <td>Modo headless del navegador</td>
                                <td>true (por defecto)</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- Section: URLs -->
        <section class="section" id="urls">
            <div class="card">
                <div class="card-header">
                    <h3><span class="icon">üîó</span> URLs del Sistema</h3>
                </div>
                <div class="card-body">
                    <table class="info-table">
                        <thead>
                            <tr>
                                <th>URL</th>
                                <th>Descripci√≥n</th>
                                <th>Tipo</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><a href="http://localhost:3000" target="_blank" style="color: var(--primary);">http://localhost:3000</a></td>
                                <td>P√°gina principal</td>
                                <td><span class="status info">Frontend</span></td>
                            </tr>
                            <tr>
                                <td><a href="http://localhost:3000/demo" target="_blank" style="color: var(--primary);">http://localhost:3000/demo</a></td>
                                <td>Consulta de causas (estilo PJUD)</td>
                                <td><span class="status info">Frontend</span></td>
                            </tr>
                            <tr>
                                <td><a href="http://localhost:3000/movimientos" target="_blank" style="color: var(--primary);">http://localhost:3000/movimientos</a></td>
                                <td>Tabla de movimientos</td>
                                <td><span class="status info">Frontend</span></td>
                            </tr>
                            <tr>
                                <td><a href="http://localhost:3000/mvp" target="_blank" style="color: var(--primary);">http://localhost:3000/mvp</a></td>
                                <td>Dashboard MVP</td>
                                <td><span class="status info">Frontend</span></td>
                            </tr>
                            <tr>
                                <td><code>/api/health</code></td>
                                <td>Health check del servidor</td>
                                <td><span class="status success">API</span></td>
                            </tr>
                            <tr>
                                <td><code>/api/scraping/ejecutar</code></td>
                                <td>Ejecutar scraping (POST)</td>
                                <td><span class="status success">API</span></td>
                            </tr>
                            <tr>
                                <td><code>/api/tribunales</code></td>
                                <td>Listar tribunales</td>
                                <td><span class="status success">API</span></td>
                            </tr>
                            <tr>
                                <td><code>/api/cortes</code></td>
                                <td>Listar cortes de apelaciones</td>
                                <td><span class="status success">API</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    <h3><span class="icon">üìÇ</span> Estructura de Carpetas</h3>
                </div>
                <div class="card-body">
                    <div class="command-code" style="position: relative;">
                        <code>pjud-webscrapping/
‚îú‚îÄ‚îÄ documentacion/          # ‚ö†Ô∏è NO BORRAR - Esta carpeta
‚îÇ   ‚îú‚îÄ‚îÄ index.html          # Este archivo
‚îÇ   ‚îî‚îÄ‚îÄ NO_BORRAR.md
‚îú‚îÄ‚îÄ database/               # Schemas SQL
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ api/               # Servidor Express
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ public/        # Frontend
‚îÇ   ‚îú‚îÄ‚îÄ config/            # Configuraciones
‚îÇ   ‚îú‚îÄ‚îÄ database/          # Conexi√≥n BD
‚îÇ   ‚îú‚îÄ‚îÄ test/              # Pruebas unitarias
‚îÇ   ‚îú‚îÄ‚îÄ outputs/           # Resultados JSON
‚îÇ   ‚îú‚îÄ‚îÄ logs/              # Logs y screenshots
‚îÇ   ‚îî‚îÄ‚îÄ *.js               # M√≥dulos de scraping
‚îú‚îÄ‚îÄ scripts/               # Scripts de utilidad
‚îú‚îÄ‚îÄ .env                   # Variables de entorno
‚îî‚îÄ‚îÄ package.json           # Dependencias NPM</code>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <p>
            üìö Documentaci√≥n PJUD Web Scrapping | 
            ‚ö†Ô∏è <strong>Esta carpeta NO debe ser borrada</strong> | 
            √öltima actualizaci√≥n: <span id="lastUpdate"></span>
        </p>
    </footer>

    <script>
        // Set last update date
        document.getElementById('lastUpdate').textContent = new Date().toLocaleDateString('es-CL');

        // Tab navigation
        document.querySelectorAll('.nav-tab').forEach(tab => {
            tab.addEventListener('click', () => {
                // Remove active class from all tabs
                document.querySelectorAll('.nav-tab').forEach(t => t.classList.remove('active'));
                document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
                
                // Add active class to clicked tab
                tab.classList.add('active');
                const sectionId = tab.getAttribute('data-section');
                document.getElementById(sectionId).classList.add('active');
            });
        });

        // Copy command function
        function copyCommand(command) {
            navigator.clipboard.writeText(command).then(() => {
                // Show feedback
                const notification = document.createElement('div');
                notification.style.cssText = `
                    position: fixed;
                    bottom: 20px;
                    right: 20px;
                    background: #10b981;
                    color: white;
                    padding: 12px 24px;
                    border-radius: 8px;
                    font-size: 14px;
                    font-weight: 500;
                    z-index: 9999;
                    animation: slideIn 0.3s ease;
                    box-shadow: 0 10px 30px rgba(16, 185, 129, 0.3);
                `;
                notification.innerHTML = `‚úÖ Copiado: <code style="background: rgba(255,255,255,0.2); padding: 2px 6px; border-radius: 4px;">${command}</code>`;
                document.body.appendChild(notification);
                
                setTimeout(() => {
                    notification.style.animation = 'slideOut 0.3s ease';
                    setTimeout(() => notification.remove(), 300);
                }, 2000);
            });
        }

        // Add CSS animations
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideIn {
                from { transform: translateX(100%); opacity: 0; }
                to { transform: translateX(0); opacity: 1; }
            }
            @keyframes slideOut {
                from { transform: translateX(0); opacity: 1; }
                to { transform: translateX(100%); opacity: 0; }
            }
        `;
        document.head.appendChild(style);

        // Search functionality
        document.getElementById('searchInput').addEventListener('input', function(e) {
            const searchTerm = e.target.value.toLowerCase();
            
            if (searchTerm.length < 2) {
                // Show all command blocks
                document.querySelectorAll('.command-block').forEach(block => {
                    block.style.display = 'block';
                });
                return;
            }

            // Show all sections temporarily
            document.querySelectorAll('.section').forEach(section => {
                section.style.display = 'block';
            });

            // Filter command blocks
            document.querySelectorAll('.command-block').forEach(block => {
                const text = block.textContent.toLowerCase();
                if (text.includes(searchTerm)) {
                    block.style.display = 'block';
                    block.style.border = '2px solid var(--primary)';
                } else {
                    block.style.display = 'none';
                    block.style.border = '';
                }
            });

            // Also search in quick actions
            document.querySelectorAll('.quick-action').forEach(action => {
                const text = action.textContent.toLowerCase();
                if (text.includes(searchTerm)) {
                    action.style.display = 'block';
                    action.style.border = '2px solid var(--primary)';
                } else {
                    action.style.display = 'none';
                    action.style.border = '';
                }
            });
        });

        // Clear search on escape
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                document.getElementById('searchInput').value = '';
                document.querySelectorAll('.command-block, .quick-action').forEach(el => {
                    el.style.display = '';
                    el.style.border = '';
                });
                // Restore section visibility based on active tab
                document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
                document.querySelector('.nav-tab.active').click();
            }
        });
    </script>
</body>
</html>
